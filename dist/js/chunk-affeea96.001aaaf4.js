(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-affeea96"],{"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},"3c35":function(t,e){(function(e){t.exports=e}).call(this,{})},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d8e8"),o=n("4bf8"),a=n("79e5"),s=[].sort,c=[1,2,3];i(i.P+i.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},"6e35":function(t,e,n){"use strict";n.r(e),function(t){n("456d"),n("f751"),n("55dd"),n("28a5");var e=n("6bde");n("a481"),n("ac6a");!function(i,r,o,a){function s(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(u(t,n[e],n),!0)}function u(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function l(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}function h(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&ft(i,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function p(t,n){return Object(e["a"])(t)==vt?t.apply(n&&n[0]||a,n):t}function f(t,e){return t===a?e:t}function g(t,e,n){u(w(e),function(e){t.addEventListener(e,n,!1)})}function m(t,e,n){u(w(e),function(e){t.removeEventListener(e,n,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function y(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function S(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function b(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];S(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function E(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<gt.length;){if(n=gt[o],i=n?n+r:e,i in t)return i;o++}return a}function P(){return Et++}function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}function C(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&n.handler(e)},this.init()}function x(t){var e=t.options.inputClass;return new(e||(Ct?_:xt?B:It?q:X))(t,D)}function D(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Ut&&i-r===0,a=e&(Ot|Gt)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,F(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function F(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=M(e)),r>1&&!n.firstMultiple?n.firstMultiple=M(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=e.center=U(i);e.timeStamp=St(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(s,c),e.distance=G(s,c),R(n,e),e.offsetDirection=O(e.deltaX,e.deltaY);var u=A(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=wt(u.x)>wt(u.y)?u.x:u.y,e.scale=a?L(a.pointers,i):1,e.rotation=a?k(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,W(n,e);var l=t.element;v(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function R(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Ut&&o.eventType!==Ot||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function W(t,e){var n,i,r,o,s=t.lastInterval||e,c=e.timeStamp-s.timeStamp;if(e.eventType!=Gt&&(c>Mt||s.velocity===a)){var u=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=A(c,u,l);i=h.x,r=h.y,n=wt(h.x)>wt(h.y)?h.x:h.y,o=O(u,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function M(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:yt(t.pointers[n].clientX),clientY:yt(t.pointers[n].clientY)},n++;return{timeStamp:St(),pointers:e,center:U(e),deltaX:t.deltaX,deltaY:t.deltaY}}function U(t){var e=t.length;if(1===e)return{x:yt(t[0].clientX),y:yt(t[0].clientY)};for(var n=0,i=0,r=0;e>r;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:yt(n/e),y:yt(i/e)}}function A(t,e,n){return{x:e/t||0,y:n/t||0}}function O(t,e){return t===e?Nt:wt(t)>=wt(e)?0>t?kt:Lt:0>e?Xt:_t}function G(t,e,n){n||(n=zt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function N(t,e,n){n||(n=zt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function k(t,e){return N(e[1],e[0],qt)+N(t[1],t[0],qt)}function L(t,e){return G(e[0],e[1],qt)/G(t[0],t[1],qt)}function X(){this.evEl=jt,this.evWin=Jt,this.pressed=!1,C.apply(this,arguments)}function _(){this.evEl=$t,this.evWin=Qt,C.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function H(){this.evTarget=ee,this.evWin=ne,this.started=!1,C.apply(this,arguments)}function Y(t,e){var n=T(t.touches),i=T(t.changedTouches);return e&(Ot|Gt)&&(n=b(n.concat(i),"identifier",!0)),[n,i]}function B(){this.evTarget=re,this.targetIds={},C.apply(this,arguments)}function z(t,e){var n=T(t.touches),i=this.targetIds;if(e&(Ut|At)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=T(t.changedTouches),s=[],c=this.target;if(o=n.filter(function(t){return v(t.target,c)}),e===Ut)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(Ot|Gt)&&delete i[a[r].identifier],r++;return s.length?[b(o.concat(s),"identifier",!0),s]:void 0}function q(){C.apply(this,arguments);var t=d(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function V(t,e){t&Ut?(this.primaryTouch=e.changedPointers[0].identifier,j.call(this,e)):t&(Ot|Gt)&&j.call(this,e)}function j(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,oe)}}function J(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(ae>=o&&ae>=a)return!0}return!1}function K(t,e){this.manager=t,this.set(e)}function Z(t){if(y(t,de))return de;var e=y(t,pe),n=y(t,fe);return e&&n?de:e||n?e?pe:fe:y(t,he)?he:le}function $(){if(!ce)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}function Q(t){this.options=ft({},this.defaults,t||{}),this.id=P(),this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=me,this.simultaneous={},this.requireFail=[]}function tt(t){return t&Te?"cancel":t&we?"end":t&ye?"move":t&ve?"start":""}function et(t){return t==_t?"down":t==Xt?"up":t==kt?"left":t==Lt?"right":""}function nt(t,e){var n=e.manager;return n?n.get(t):t}function it(){Q.apply(this,arguments)}function rt(){it.apply(this,arguments),this.pX=null,this.pY=null}function ot(){it.apply(this,arguments)}function at(){Q.apply(this,arguments),this._timer=null,this._input=null}function st(){it.apply(this,arguments)}function ct(){it.apply(this,arguments)}function ut(){Q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function lt(t,e){return e=e||{},e.recognizers=f(e.recognizers,lt.defaults.preset),new ht(t,e)}function ht(t,e){this.options=ft({},lt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=x(this),this.touchAction=new K(this,this.options.touchAction),dt(this,!0),u(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var n,i=t.element;i.style&&(u(t.options.cssProps,function(r,o){n=E(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}function pt(t,e){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ft,gt=["","webkit","Moz","MS","ms","o"],mt=r.createElement("div"),vt="function",yt=Math.round,wt=Math.abs,St=Date.now;ft="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var Tt=l(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),bt=l(function(t,e){return Tt(t,e,!0)},"merge","Use `assign`."),Et=1,Pt=/mobile|tablet|ip(ad|hone|od)|android/i,It="ontouchstart"in i,Ct=E(i,"PointerEvent")!==a,xt=It&&Pt.test(navigator.userAgent),Dt="touch",Ft="pen",Rt="mouse",Wt="kinect",Mt=25,Ut=1,At=2,Ot=4,Gt=8,Nt=1,kt=2,Lt=4,Xt=8,_t=16,Ht=kt|Lt,Yt=Xt|_t,Bt=Ht|Yt,zt=["x","y"],qt=["clientX","clientY"];C.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(I(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Ut,mousemove:At,mouseup:Ot},jt="mousedown",Jt="mousemove mouseup";h(X,C,{handler:function(t){var e=Vt[t.type];e&Ut&&0===t.button&&(this.pressed=!0),e&At&&1!==t.which&&(e=Ot),this.pressed&&(e&Ot&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Rt,srcEvent:t}))}});var Kt={pointerdown:Ut,pointermove:At,pointerup:Ot,pointercancel:Gt,pointerout:Gt},Zt={2:Dt,3:Ft,4:Rt,5:Wt},$t="pointerdown",Qt="pointermove pointerup pointercancel";i.MSPointerEvent&&!i.PointerEvent&&($t="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),h(_,C,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Kt[i],o=Zt[t.pointerType]||t.pointerType,a=o==Dt,s=S(e,t.pointerId,"pointerId");r&Ut&&(0===t.button||a)?0>s&&(e.push(t),s=e.length-1):r&(Ot|Gt)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var te={touchstart:Ut,touchmove:At,touchend:Ot,touchcancel:Gt},ee="touchstart",ne="touchstart touchmove touchend touchcancel";h(H,C,{handler:function(t){var e=te[t.type];if(e===Ut&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(Ot|Gt)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Dt,srcEvent:t})}}});var ie={touchstart:Ut,touchmove:At,touchend:Ot,touchcancel:Gt},re="touchstart touchmove touchend touchcancel";h(B,C,{handler:function(t){var e=ie[t.type],n=z.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Dt,srcEvent:t})}});var oe=2500,ae=25;h(q,C,{handler:function(t,e,n){var i=n.pointerType==Dt,r=n.pointerType==Rt;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)V.call(this,e,n);else if(r&&J.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var se=E(mt.style,"touchAction"),ce=se!==a,ue="compute",le="auto",he="manipulation",de="none",pe="pan-x",fe="pan-y",ge=$();K.prototype={set:function(t){t==ue&&(t=this.compute()),ce&&this.manager.element.style&&ge[t]&&(this.manager.element.style[se]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,r=y(i,de)&&!ge[de],o=y(i,fe)&&!ge[fe],a=y(i,pe)&&!ge[pe];if(r){var s=1===t.pointers.length,c=t.distance<2,u=t.deltaTime<250;if(s&&c&&u)return}return a&&o?void 0:r||o&&n&Ht||a&&n&Yt?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var me=1,ve=2,ye=4,we=8,Se=we,Te=16,be=32;Q.prototype={defaults:{},set:function(t){return ft(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=nt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=nt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=nt(t,this),-1===S(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=nt(t,this);var e=S(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;we>i&&e(n.options.event+tt(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=we&&e(n.options.event+tt(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|me)))return!1;t++}return!0},recognize:function(t){var e=ft({},t);return p(this.options.enable,[this,e])?(this.state&(Se|Te|be)&&(this.state=me),this.state=this.process(e),void(this.state&(ve|ye|we|Te)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(it,Q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ve|ye),r=this.attrTest(t);return i&&(n&Gt||!r)?e|Te:i||r?n&Ot?e|we:e&ve?e|ye:ve:be}}),h(rt,it,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ht&&e.push(fe),t&Yt&&e.push(pe),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&Ht?(r=0===o?Nt:0>o?kt:Lt,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?Nt:0>a?Xt:_t,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return it.prototype.attrTest.call(this,t)&&(this.state&ve||!(this.state&ve)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(ot,it,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ve)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(at,Q,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[le]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Ot|Gt)&&!r)this.reset();else if(t.eventType&Ut)this.reset(),this._timer=s(function(){this.state=Se,this.tryEmit()},e.time,this);else if(t.eventType&Ot)return Se;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Se&&(t&&t.eventType&Ot?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=St(),this.manager.emit(this.options.event,this._input)))}}),h(st,it,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[de]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ve)}}),h(ct,it,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ht|Yt,pointers:1},getTouchAction:function(){return rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Ht|Yt)?e=t.overallVelocity:n&Ht?e=t.overallVelocityX:n&Yt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&wt(e)>this.options.velocity&&t.eventType&Ot},emit:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(ut,Q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[he]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Ut&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=Ot)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||G(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var c=this.count%e.taps;if(0===c)return this.hasRequireFailures()?(this._timer=s(function(){this.state=Se,this.tryEmit()},e.interval,this),ve):Se}return be},failTimeout:function(){return this._timer=s(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Se&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),lt.VERSION="2.0.8",lt.defaults={domEvents:!1,touchAction:ue,enable:!0,inputTarget:null,inputClass:null,preset:[[st,{enable:!1}],[ot,{enable:!1},["rotate"]],[ct,{direction:Ht}],[rt,{direction:Ht},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ee=1,Pe=2;ht.prototype={set:function(t){return ft(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Pe:Ee},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Se)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],e.stopped===Pe||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(ve|ye|we)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Q)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=S(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return u(w(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return u(w(t),function(t){e?n[t]&&n[t].splice(S(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&pt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ft(lt,{INPUT_START:Ut,INPUT_MOVE:At,INPUT_END:Ot,INPUT_CANCEL:Gt,STATE_POSSIBLE:me,STATE_BEGAN:ve,STATE_CHANGED:ye,STATE_ENDED:we,STATE_RECOGNIZED:Se,STATE_CANCELLED:Te,STATE_FAILED:be,DIRECTION_NONE:Nt,DIRECTION_LEFT:kt,DIRECTION_RIGHT:Lt,DIRECTION_UP:Xt,DIRECTION_DOWN:_t,DIRECTION_HORIZONTAL:Ht,DIRECTION_VERTICAL:Yt,DIRECTION_ALL:Bt,Manager:ht,Input:C,TouchAction:K,TouchInput:B,MouseInput:X,PointerEventInput:_,TouchMouseInput:q,SingleTouchInput:H,Recognizer:Q,AttrRecognizer:it,Tap:ut,Pan:rt,Swipe:ct,Pinch:ot,Rotate:st,Press:at,on:g,off:m,each:u,merge:bt,extend:Tt,assign:ft,inherit:h,bindFn:d,prefixed:E});var Ie="undefined"!=typeof i?i:"undefined"!=typeof self?self:{};Ie.Hammer=lt,"function"==typeof define&&n("3c35")?define(function(){return lt}):"undefined"!=typeof t&&t.exports?t.exports=lt:i[o]=lt}(window,document,"Hammer")}.call(this,n("dd40")(t))},"6f45":function(t,e,i){var r,o;(function(){var i=!1,a=function(t){return t instanceof a?t:this instanceof a?void(this.EXIFwrapped=t):new a(t)};"undefined"!==typeof t&&t.exports&&(e=t.exports=a),e.EXIF=a;var s=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},c=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},u=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},h=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function d(t){return!!t.exifdata}function p(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),i=n.length,r=new ArrayBuffer(i),o=new Uint8Array(r),a=0;a<i;a++)o[a]=n.charCodeAt(a);return r}function f(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},n.send()}function g(t,e){function n(n){var i=m(n);t.exifdata=i||{};var r=v(n);if(t.iptcdata=r||{},a.isXmpEnabled){var o=C(n);t.xmpdata=o||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var r=p(t.src);n(r)}else if(/^blob\:/i.test(t.src)){var o=new FileReader;o.onload=function(t){n(t.target.result)},f(t.src,function(t){o.readAsArrayBuffer(t)})}else{var s=new XMLHttpRequest;s.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(s.response),s=null},s.open("GET",t.src,!0),s.responseType="arraybuffer",s.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){o=new FileReader;o.onload=function(t){i&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},o.readAsArrayBuffer(t)}}function m(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n,r=2,o=t.byteLength;while(r<o){if(255!=e.getUint8(r))return i&&console.log("Not a valid marker at offset "+r+", found: "+e.getUint8(r)),!1;if(n=e.getUint8(r+1),i&&console.log(n),225==n)return i&&console.log("Found 0xFFE1 marker"),I(e,r+4,e.getUint16(r+2)-2);r+=2+e.getUint16(r+2)}}function v(t){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,r=t.byteLength,o=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};while(n<r){if(o(e,n)){var a=e.getUint8(n+7);a%2!==0&&(a+=1),0===a&&(a=4);var s=n+8+a,c=e.getUint16(n+6+a);return w(t,s,c)}n++}}var y={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function w(t,e,n){var i,r,o,a,s=new DataView(t),c={},u=e;while(u<e+n)28===s.getUint8(u)&&2===s.getUint8(u+1)&&(a=s.getUint8(u+2),a in y&&(o=s.getInt16(u+3),o+5,r=y[a],i=P(s,u+5,o),c.hasOwnProperty(r)?c[r]instanceof Array?c[r].push(i):c[r]=[c[r],i]:c[r]=i)),u++;return c}function S(t,e,n,r,o){var a,s,c,u=t.getUint16(n,!o),l={};for(c=0;c<u;c++)a=n+12*c+2,s=r[t.getUint16(a,!o)],!s&&i&&console.log("Unknown tag: "+t.getUint16(a,!o)),l[s]=T(t,a,e,n,o);return l}function T(t,e,n,i,r){var o,a,s,c,u,l,h=t.getUint16(e+2,!r),d=t.getUint32(e+4,!r),p=t.getUint32(e+8,!r)+n;switch(h){case 1:case 7:if(1==d)return t.getUint8(e+8,!r);for(o=d>4?p:e+8,a=[],c=0;c<d;c++)a[c]=t.getUint8(o+c);return a;case 2:return o=d>4?p:e+8,P(t,o,d-1);case 3:if(1==d)return t.getUint16(e+8,!r);for(o=d>2?p:e+8,a=[],c=0;c<d;c++)a[c]=t.getUint16(o+2*c,!r);return a;case 4:if(1==d)return t.getUint32(e+8,!r);for(a=[],c=0;c<d;c++)a[c]=t.getUint32(p+4*c,!r);return a;case 5:if(1==d)return u=t.getUint32(p,!r),l=t.getUint32(p+4,!r),s=new Number(u/l),s.numerator=u,s.denominator=l,s;for(a=[],c=0;c<d;c++)u=t.getUint32(p+8*c,!r),l=t.getUint32(p+4+8*c,!r),a[c]=new Number(u/l),a[c].numerator=u,a[c].denominator=l;return a;case 9:if(1==d)return t.getInt32(e+8,!r);for(a=[],c=0;c<d;c++)a[c]=t.getInt32(p+4*c,!r);return a;case 10:if(1==d)return t.getInt32(p,!r)/t.getInt32(p+4,!r);for(a=[],c=0;c<d;c++)a[c]=t.getInt32(p+8*c,!r)/t.getInt32(p+4+8*c,!r);return a}}function b(t,e,n){var i=t.getUint16(e,!n);return t.getUint32(e+2+12*i,!n)}function E(t,e,n,i){var r=b(t,e+n,i);if(!r)return{};if(r>t.byteLength)return{};var o=S(t,e,e+r,l,i);if(o["Compression"])switch(o["Compression"]){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var a=e+o.JpegIFOffset,s=o.JpegIFByteCount;o["blob"]=new Blob([new Uint8Array(t.buffer,a,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o["Compression"])}else 2==o["PhotometricInterpretation"]&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}function P(t,e,i){var r="";for(n=e;n<e+i;n++)r+=String.fromCharCode(t.getUint8(n));return r}function I(t,e){if("Exif"!=P(t,e,4))return i&&console.log("Not valid EXIF data! "+P(t,e,4)),!1;var n,r,o,a,l,d=e+6;if(18761==t.getUint16(d))n=!1;else{if(19789!=t.getUint16(d))return i&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(d+2,!n))return i&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var p=t.getUint32(d+4,!n);if(p<8)return i&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(d+4,!n)),!1;if(r=S(t,d,d+p,c,n),r.ExifIFDPointer)for(o in a=S(t,d,d+r.ExifIFDPointer,s,n),a){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[o]=h[o][a[o]];break;case"ExifVersion":case"FlashpixVersion":a[o]=String.fromCharCode(a[o][0],a[o][1],a[o][2],a[o][3]);break;case"ComponentsConfiguration":a[o]=h.Components[a[o][0]]+h.Components[a[o][1]]+h.Components[a[o][2]]+h.Components[a[o][3]];break}r[o]=a[o]}if(r.GPSInfoIFDPointer)for(o in l=S(t,d,d+r.GPSInfoIFDPointer,u,n),l){switch(o){case"GPSVersionID":l[o]=l[o][0]+"."+l[o][1]+"."+l[o][2]+"."+l[o][3];break}r[o]=l[o]}return r["thumbnail"]=E(t,d,p,n),r}function C(t){if("DOMParser"in self){var e=new DataView(t);if(i&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return i&&console.log("Not a valid JPEG"),!1;var n=2,r=t.byteLength,o=new DOMParser;while(n<r-4){if("http"==P(e,n,4)){var a=n-1,s=e.getUint16(n-2)-1,c=P(e,a,s),u=c.indexOf("xmpmeta>")+8;c=c.substring(c.indexOf("<x:xmpmeta"),u);var l=c.indexOf("x:xmpmeta")+10;c=c.slice(0,l)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+c.slice(l);var h=o.parseFromString(c,"text/xml");return D(h)}n++}}}function x(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);e["@attributes"][i.nodeName]=i.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes.item(r),a=o.nodeName;if(null==e[a])e[a]=x(o);else{if(null==e[a].push){var s=e[a];e[a]=[],e[a].push(s)}e[a].push(x(o))}}return e}function D(t){try{var e={};if(t.children.length>0)for(var n=0;n<t.children.length;n++){var i=t.children.item(n),r=i.attributes;for(var o in r){var a=r[o],s=a.nodeName,c=a.nodeValue;void 0!==s&&(e[s]=c)}var u=i.nodeName;if("undefined"==typeof e[u])e[u]=x(i);else{if("undefined"==typeof e[u].push){var l=e[u];e[u]=[],e[u].push(l)}e[u].push(x(i))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(d(t)?e&&e.call(t):g(t,e),!0)},a.getTag=function(t,e){if(d(t))return t.exifdata[e]},a.getIptcTag=function(t,e){if(d(t))return t.iptcdata[e]},a.getAllTags=function(t){if(!d(t))return{};var e,n=t.exifdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},a.getAllIptcTags=function(t){if(!d(t))return{};var e,n=t.iptcdata,i={};for(e in n)n.hasOwnProperty(e)&&(i[e]=n[e]);return i},a.pretty=function(t){if(!d(t))return"";var e,n=t.exifdata,i="";for(e in n)n.hasOwnProperty(e)&&("object"==typeof n[e]?n[e]instanceof Number?i+=e+" : "+n[e]+" ["+n[e].numerator+"/"+n[e].denominator+"]\r\n":i+=e+" : ["+n[e].length+" values]\r\n":i+=e+" : "+n[e]+"\r\n");return i},a.readFromBinaryFile=function(t){return m(t)},r=[],o=function(){return a}.apply(e,r),void 0===o||(t.exports=o)}).call(this)},caed:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"uploadBox"},[n("canvas",{attrs:{id:"canvas",width:t.windowWidth,height:t.windowWidth}}),n("canvas",{attrs:{id:"canvasMask",width:t.windowWidth,height:t.windowWidth}}),n("canvas",{staticStyle:{display:"none"},attrs:{id:"resultImg",width:"160",height:"160"}}),t.uploadBarShow?n("label",{staticClass:"uploadBar",attrs:{for:"uploadInput"}},[n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",id:"uploadInput",accept:"image/*"},on:{change:t.upLoadChange}}),n("span",[t._v("点击上传")])]):t._e()]),t.uploadBarShow?t._e():n("input",{attrs:{type:"button",value:"确定裁切"},on:{click:t.crop}})])},r=[],o=(n("6c7b"),n("6f45")),a=n.n(o),s=n("a7fe");n("6e35");var c={name:"home",data:function(){return{orientation:null,degree:0,windowWidth:0,imgEl:null,imgWidth:0,imgHeight:0,transWidth:0,transHeight:0,initScale:0,transformScale:1,prevX:0,prevY:0,translateX:0,translateY:0,uploadBarShow:!0,canvas:null,canvasMask:null,canvasResult:null}},methods:{upLoadChange:function(){var t=this,e=this.$refs.file.files[0],n=this;if(e.size>8388608)return alert("图片不能超过1MB大小"),!1;a.a.getData(e,function(){n.orientation=a.a.getTag(this,"Orientation")});var i=new FileReader;i.addEventListener("load",function(){t.orientation?t.getImgData(i.result,t.orientation,function(e){t.createCanvas(e)}):t.createCanvas(i.result)},!1),i.readAsDataURL(e)},createCanvas:function(t){var e=this;this.imgEl=new Image,this.imgEl.src=t,this.imgEl.onload=function(){e.imgWidth=e.imgEl.width,e.imgHeight=e.imgEl.height,e.canvasMask.globalCompositeOperation="source-out",e.canvasMask.fillStyle="rgb(255,255,255)",e.canvasMask.arc(e.windowWidth/2,e.windowWidth/2,80,0,2*Math.PI),e.canvasMask.fill(),e.canvasMask.fillStyle="rgba(0,0,0,0.7)",e.canvasMask.fillRect(0,0,e.windowWidth,e.windowWidth),e.imgEl.width<e.windowWidth&&e.imgEl.height<e.windowWidth?(e.imgWidth=e.imgEl.width,e.imgHeight=e.imgEl.height):1<=e.imgEl.width/e.imgEl.height?(e.imgWidth=e.windowWidth,e.imgHeight=e.windowWidth*(e.imgEl.height/e.imgEl.width)):(e.imgWidth=e.windowWidth*(e.imgEl.width/e.imgEl.height),e.imgHeight=e.windowWidth),e.canvas.translate(e.windowWidth/2,e.windowWidth/2),e.canvas.drawImage(e.imgEl,0-e.imgWidth/2,0-e.imgHeight/2,e.imgWidth,e.imgHeight),e.initHammer()}},getImgData:function(t,e,n){var i=new Image;i.src=t,i.onload=function(){var t,r,o,a,s=0;t=i.naturalWidth,r=i.naturalHeight;var c=Math.max(t,r);if(c>2048){var u=Math.min(t,r);u=u/c*2048,c=2048,t>r?(t=c,r=u):(t=u,r=c)}var l=document.createElement("canvas");l.width=o=t,l.height=a=r;var h=l.getContext("2d");switch(e){case 3:s=180,t=-o,r=-a;break;case 6:l.width=a,l.height=o,s=90,t=o,r=-a;break;case 8:l.width=a,l.height=o,s=270,t=-o,r=a;break}h.rotate(s*Math.PI/180),h.drawImage(this,0,0,t,r),n(l.toDataURL("image/jpeg"))}},initHammer:function(){var t=this;this.uploadBarShow=!1;var e=new Hammer(document.querySelector("#canvasMask"));e.get("pinch").set({enable:!0}),e.on("pinchmove pinchstart pinchin pinchout",function(e){"pinchstart"===e.type&&(t.initScale=t.transformScale||1),t.transformScale=t.initScale*e.scale,t.canvas.clearRect(0-t.windowWidth/2,0-t.windowWidth/2,t.windowWidth,t.windowWidth),t.transWidth=t.imgWidth*t.transformScale,t.transHeight=t.imgHeight*t.transformScale,t.canvas.drawImage(t.imgEl,t.translateX-t.transWidth/2,t.translateY-t.transHeight/2,t.transWidth,t.transHeight)}),e.on("panstart panmove",function(e){"panstart"===e.type&&(t.prevX=t.translateX,t.prevY=t.translateY),t.translateX=t.prevX+e.deltaX,t.translateY=t.prevY+e.deltaY,t.canvas.clearRect(0-t.windowWidth/2,0-t.windowWidth/2,t.windowWidth,t.windowWidth),t.canvas.drawImage(t.imgEl,t.translateX-(t.transWidth||t.imgWidth)/2,t.translateY-(t.transHeight||t.imgHeight)/2,t.transWidth||t.imgWidth,t.transHeight||t.imgHeight)})},crop:function(){var t,e=this,n=document.querySelector("#canvas").toDataURL("image/png"),i=new Image;i.src=n,i.onload=function(){e.canvasResult.fillStyle="white",e.canvasResult.fillRect(0,0,160,160),e.canvasResult.drawImage(i,-(e.windowWidth/2-80),-(e.windowWidth/2-80)),t=Object(s["a"])(document.querySelector("#resultImg").toDataURL("image/jpeg"));var n=new FormData;n.append("action","edit_user_pic"),n.append("files",t,"image.jpeg")}}},mounted:function(){var t=document.querySelector("#canvas"),e=document.querySelector("#canvasMask"),n=document.querySelector("#resultImg");this.canvas=t.getContext("2d"),this.canvasMask=e.getContext("2d"),this.canvasResult=n.getContext("2d"),this.windowWidth=window.innerWidth}},u=c,l=(n("f720"),n("2877")),h=Object(l["a"])(u,i,r,!1,null,null,null);h.options.__file="imgEditor.vue";e["default"]=h.exports},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},e6d2:function(t,e,n){},f720:function(t,e,n){"use strict";var i=n("e6d2"),r=n.n(i);r.a}}]);